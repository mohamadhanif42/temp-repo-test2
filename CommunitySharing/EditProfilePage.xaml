<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="CommunitySharing.EditProfilePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Shell.NavBarIsVisible="False">

    <!-- Background Gradient -->
    <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#FFE1CC" Offset="0.0"/>
            <GradientStop Color="#FFF5C8" Offset="1.0"/>
        </LinearGradientBrush>
    </ContentPage.Background>

    <Grid RowDefinitions="Auto,*" Padding="20">

        <!-- HEADER -->
        <Grid Padding="0,50,0,20" ColumnDefinitions="Auto,*">
            <ImageButton Source="back_icon.png"
                         WidthRequest="28"
                         HeightRequest="28"
                         BackgroundColor="Transparent"
                         Clicked="OnBackClicked"/>
            <Label Grid.Column="1"
                   Text="Edit Profile"
                   FontAttributes="Bold"
                   FontSize="24"
                   VerticalOptions="Center"
                   TextColor="Black"/>
        </Grid>

        <!-- MAIN CONTENT -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="25" Padding="10">

                <!-- Profile Picture -->
                <Frame WidthRequest="120" HeightRequest="120" CornerRadius="60"
                       HorizontalOptions="Center" HasShadow="True"
                       BorderColor="#34C759" Padding="0">
                    <Image Source="profile_placeholder.png"
                           Aspect="AspectFill"
                           WidthRequest="120"
                           HeightRequest="120" />
                </Frame>

                <Button Text="Change Photo"
                        BackgroundColor="#34C759"
                        TextColor="White"
                        CornerRadius="25"
                        HeightRequest="45"
                        WidthRequest="160"
                        HorizontalOptions="Center"
                        Clicked="OnChangePhotoClicked"/>

                <!-- Full Name -->
                <Frame BackgroundColor="White"
                       CornerRadius="25"
                       HasShadow="False"
                       Padding="15,0"
                       HeightRequest="55">
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <Image Source="user_icon.png" WidthRequest="20" HeightRequest="20" VerticalOptions="Center"/>
                        <Entry x:Name="NameEntry"
                               Placeholder="Full Name"
                               BackgroundColor="Transparent"
                               TextColor="Black"
                               FontSize="14"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                </Frame>

                <!-- Email -->
                <Frame BackgroundColor="White"
                       CornerRadius="25"
                       HasShadow="False"
                       Padding="15,0"
                       HeightRequest="55">
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <Image Source="email_icon.png" WidthRequest="20" HeightRequest="20" VerticalOptions="Center"/>
                        <Entry x:Name="EmailEntry"
                               Placeholder="Email Address"
                               Keyboard="Email"
                               BackgroundColor="Transparent"
                               TextColor="Black"
                               FontSize="14"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                </Frame>

                <!-- Location -->
                <Frame BackgroundColor="White"
                       CornerRadius="25"
                       HasShadow="False"
                       Padding="15,0"
                       HeightRequest="55">
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <Image Source="location_icon.png" WidthRequest="20" HeightRequest="20" VerticalOptions="Center"/>
                        <Entry x:Name="LocationEntry"
                               Placeholder="Location"
                               BackgroundColor="Transparent"
                               TextColor="Black"
                               FontSize="14"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                </Frame>

                <!-- Bio -->
                <Frame BackgroundColor="White"
                       CornerRadius="20"
                       HasShadow="False"
                       Padding="15"
                       HeightRequest="120">
                    <Editor x:Name="BioEditor"
                            Placeholder="Write something about yourself..."
                            AutoSize="TextChanges"
                            BackgroundColor="Transparent"
                            TextColor="Black"
                            FontSize="14"/>
                </Frame>

                <!-- Save Button -->
                <Button Text="Save Changes"
                        BackgroundColor="#34C759"
                        TextColor="White"
                        CornerRadius="25"
                        HeightRequest="50"
                        FontAttributes="Bold"
                        Clicked="OnSaveClicked"/>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
